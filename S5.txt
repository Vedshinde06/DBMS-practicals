Consider following Relation 
Employee(emp_id,employee_name,street,city) 
Works(employee_name,company_name,salary) 
Company(company_name,city) 
Manages(employee_name,manager_name) 
Create above tables with appropriate constraints like primary key, 
foreign key, not null etc. 
1. Find the names of all employees who work for ‘TCS’. 
2. Find the names and company names of all employees sorted in 
ascending order of company name and descending order of employee 
names of that company. 
3. Change the city of employee working with InfoSys to ‘Bangalore’ 
4. Find the names, street address, and cities of residence for all 
employees who work for 'TechM' and earn more than $10,000. 
5. Add Column Asset to Company table.

CREATE TABLE Employee (
    emp_id INT PRIMARY KEY,
    employee_name VARCHAR(50) NOT NULL,
    street VARCHAR(100),
    city VARCHAR(50)
);

CREATE TABLE Company (
    company_name VARCHAR(50) PRIMARY KEY,
    city VARCHAR(50) NOT NULL
);

CREATE TABLE Works (
    emp_id INT NOT NULL,
    company_name VARCHAR(50) NOT NULL,
    salary DECIMAL(10,2) CHECK (salary > 0),
    PRIMARY KEY (emp_id, company_name),
    FOREIGN KEY (emp_id) REFERENCES Employee(emp_id),
    FOREIGN KEY (company_name) REFERENCES Company(company_name)
);

CREATE TABLE Manages (
    emp_id INT PRIMARY KEY,
    manager_id INT,
    FOREIGN KEY (emp_id) REFERENCES Employee(emp_id),
    FOREIGN KEY (manager_id) REFERENCES Employee(emp_id)
);

INSERT INTO Employee VALUES
(101, 'Amit Joshi', 'FC Road', 'Pune'),
(102, 'Neha Patil', 'MG Road', 'Mumbai'),
(103, 'Ravi Kumar', 'BTM Layout', 'Bangalore'),
(104, 'Sneha Desai', 'JM Road', 'Pune'),
(105, 'Karan Mehta', 'Viman Nagar', 'Pune'),
(106, 'Pooja Nair', 'Indira Nagar', 'Hyderabad');

INSERT INTO Company VALUES
('TCS', 'Pune'),
('InfoSys', 'Hyderabad'),
('TechM', 'Bangalore'),
('Wipro', 'Chennai');

INSERT INTO Works VALUES
(101, 'TCS', 8500),
(102, 'InfoSys', 9500),
(103, 'TechM', 12000),
(104, 'TechM', 11000),
(105, 'Wipro', 7000),
(106, 'InfoSys', 12500);

INSERT INTO Manages VALUES
(101, 102),  -- Amit is managed by Neha
(102, 103),  -- Neha is managed by Ravi
(103, NULL), -- Ravi has no manager
(104, 103),  -- Sneha managed by Ravi
(105, 101),  -- Karan managed by Amit
(106, 102);  -- Pooja managed by Neha


1)

SELECT E.employee_name
FROM Employee E
JOIN Works W ON E.emp_id = W.emp_id
WHERE W.company_name = 'TCS';


2)

SELECT E.employee_name, W.company_name
FROM Employee E
JOIN Works W ON E.emp_id = W.emp_id
ORDER BY W.company_name ASC, E.employee_name DESC;


3)

UPDATE Employee
SET city = 'Bangalore'
WHERE emp_id IN (
    SELECT emp_id FROM Works WHERE company_name = 'InfoSys'
);


4)

SELECT E.employee_name, E.street, E.city
FROM Employee E
JOIN Works W ON E.emp_id = W.emp_id
WHERE W.company_name = 'TechM' AND W.salary > 10000;


5)

ALTER TABLE Company
ADD COLUMN assets DECIMAL(15,2) DEFAULT 0;

UPDATE Company SET assets = 9000000 WHERE company_name = 'TCS';
UPDATE Company SET assets = 8500000 WHERE company_name = 'InfoSys';
UPDATE Company SET assets = 7500000 WHERE company_name = 'TechM';
UPDATE Company SET assets = 6200000 WHERE company_name = 'Wipro';
